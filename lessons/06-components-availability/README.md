# Lesson 06: Components & Availability

In this lesson, you will create your first **Component** and learn how to control which components can be used in which areas.

## üöÄ MVP Exercise (Introduction)

Your goal is to create a "Teaser" component and allow editors to add it to the `main` area of your page.

1.  **Create the Component Definition:**
    Create a file at `templates/components/teaser.yaml`.
    ```yaml
    title: Teaser Component
    renderType: freemarker
    templateScript: /my-first-module/templates/components/teaser.ftl
    dialog: my-first-module:components/teaser
    ```

2.  **Create the Component Dialog:**
    Create a file at `dialogs/components/teaser.yaml`.
    ```yaml
    form:
      label: Teaser
      tabs:
        - name: main
          fields:
            - name: heading
              class: info.magnolia.ui.form.field.definition.TextFieldDefinition
              label: Heading
            - name: body
              class: info.magnolia.ui.form.field.definition.RichTextFieldDefinition
              label: Body Text
    ```

3.  **Create the Component Script:**
    Create a file at `templates/components/teaser.ftl`.
    ```html
    <div class="teaser">
      <h2>${content.heading!"Default Heading"}</h2>
      <div class="body">
        ${content.body!""?no_esc}
      </div>
    </div>
    ```

4.  **Make it Available in the Area:**
    Open `templates/pages/hello-world.yaml` and update the `main` area.
    ```yaml
    areas:
      main:
        title: Main Content Section
        type: list
        availableComponents:
          teaser:
            id: my-first-module:components/teaser
    ```

5.  **Test it:**
    *   Open your page in the Page Editor.
    *   Click the **+ Add** button in the **main** area.
    *   Select "Teaser Component".
    *   Fill in the fields and save. You should see your component rendered!

---

## üìñ Explanation (Theory)

### Component vs Page
A Component is very similar to a Page: it has a YAML definition, an FTL script, and a dialog. The difference is its lifecycle: a component lives *inside* an area of a page.

### Availability
By default, an area is empty and doesn't allow any components. You must explicitly list which components are allowed using `availableComponents`. This ensures that editors don't put a "Contact Form" in the "Footer" if it's not designed to be there.

### The ID System
Components are referenced by their ID: `<module-name>:<path/to/definition>`.
*   Example: `my-first-module:components/teaser`

---

## üõ†Ô∏è Deep Dive & Configuration (Consolidation)

Let's look at **Component Groups**. Listing every single component for every area is tedious.

1.  **Define a Group:**
    In your component definition (`teaser.yaml`), add a group:
    ```yaml
    title: Teaser Component
    group: my-basics
    ...
    ```

2.  **Make the Group Available:**
    In your page template (`hello-world.yaml`), you can now allow the whole group.
    *Note: Group availability is often configured in the Site Definition, which we will see in Phase 3. For now, notice that you can reuse groups to keep things organized.*

3.  **Autogeneration:**
    Want a component to be there by default when a page is created?
    ```yaml
    areas:
      main:
        ...
        autoGenerated:
          welcome-teaser:
            templateId: my-first-module:components/teaser
    ```

**Next Step:** Your teaser is looking a bit plain. In the next lesson, we will learn how to handle **Images (DAM)** and professional **Asset Management**.
